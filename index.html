<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SPARK Airways - Premium Air Travel</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        :root {
            --primary: #1e40af;
            --secondary: #dc2626;
            --accent: #f59e0b;
            --light: #f8fafc;
            --dark: #1e293b;
            --gray: #64748b;
            --border: #e2e8f0;
        }

        .connection-status {
            position: fixed;
            bottom: 20px;
            left: 20px;
            background: white;
            padding: 10px 20px;
            border-radius: 25px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 0.9rem;
            z-index: 1000;
        }

        .status-dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background: #10b981;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {

            0%,
            100% {
                opacity: 1;
            }

            50% {
                opacity: 0.5;
            }
        }

        .status-dot.disconnected {
            background: #ef4444;
        }

        body {
            background-color: #f1f5f9;
            color: var(--dark);
            line-height: 1.6;
        }

        /* Header & Navigation */
        header {
            background: linear-gradient(rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.7)), url(https://images.unsplash.com/photo-1436491865332-7a61a109cc05?ixlib=rb-4.0.3&auto=format&fit=crop&w=2074&q=80);
            color: white;
            padding: 1rem 0;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        .container {
            width: 90%;
            max-width: 1200px;
            margin: 0 auto;
        }

        .nav-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
            cursor: pointer;
        }

        .logo h1 {
            font-size: 1.8rem;
            font-weight: 700;
        }

        .logo span {
            font-size: 0.9rem;
            display: block;
            font-weight: 400;
        }

        nav ul {
            display: flex;
            list-style: none;
            gap: 2rem;
        }

        nav a {
            color: white;
            text-decoration: none;
            font-weight: 500;
            transition: color 0.3s;
            padding: 0.5rem 0;
            position: relative;
            cursor: pointer;
        }

        nav a:hover {
            color: var(--accent);
        }

        nav a::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 0;
            height: 2px;
            background-color: var(--accent);
            transition: width 0.3s;
        }

        nav a:hover::after {
            width: 100%;
        }

        .sign-in-btn {
            background-color: var(--accent);
            color: white;
            border: none;
            padding: 0.7rem 1.5rem;
            border-radius: 50px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }

        .sign-in-btn:hover {
            background-color: #e69500;
            transform: translateY(-2px);
        }

        /* Page Sections */
        .page-section {
            display: none;
        }

        .page-section.active {
            display: block;
        }

        /* Hero Section */
        .hero {
            background: linear-gradient(rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.7)),
                url('https://images.unsplash.com/photo-1436491865332-7a61a109cc05?ixlib=rb-4.0.3&auto=format&fit=crop&w=2074&q=80');
            background-size: cover;
            background-position: center;
            color: white;
            padding: 5rem 0;
            text-align: center;
        }

        .hero h2 {
            font-size: 3rem;
            margin-bottom: 1rem;
            font-weight: 700;
        }

        .hero p {
            font-size: 1.2rem;
            max-width: 700px;
            margin: 0 auto 2rem;
            opacity: 0.9;
        }

        .tagline {
            font-size: 1.5rem;
            margin-bottom: 0.5rem;
            color: var(--accent);
            font-weight: 600;
        }

        /* Flight Search */
        .flight-search {
            background-color: white;
            border-radius: 12px;
            padding: 2rem;
            margin: -3rem auto 3rem;
            max-width: 1000px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
        }

        .search-title {
            text-align: center;
            margin-bottom: 1.5rem;
            color: var(--primary);
            font-size: 1.5rem;
        }

        .search-form {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 1rem;
            margin-bottom: 1.5rem;
        }

        .form-group {
            display: flex;
            flex-direction: column;
        }

        .form-group label {
            font-weight: 600;
            margin-bottom: 0.5rem;
            color: var(--dark);
        }

        .form-control {
            padding: 0.8rem;
            border: 1px solid #cbd5e1;
            border-radius: 8px;
            font-size: 1rem;
            transition: border-color 0.3s;
        }

        .form-control:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(30, 64, 175, 0.1);
        }

        .search-options {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .radio-group {
            display: flex;
            gap: 1rem;
        }

        .radio-option {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            cursor: pointer;
        }

        .search-btn {
            background-color: var(--secondary);
            color: white;
            border: none;
            padding: 0.8rem 2rem;
            border-radius: 8px;
            font-weight: 600;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s;
        }

        .search-btn:hover {
            background-color: #b91c1c;
            transform: translateY(-2px);
        }

        .Isearch-btn {
            background-color: var(--secondary);
            color: white;
            border: none;
            padding: 0.8rem 2rem;
            border-radius: 8px;
            font-weight: 600;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s;
        }

        .Isearch-btn:hover {
            background-color: #b91c1c;
            transform: translateY(-2px);
        }

        /* Flight Results Section */
        .flight-results {
            display: none;
            background: white;
            border-radius: 12px;
            padding: 2rem;
            margin: 2rem auto;
            max-width: 1000px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
        }

        .results-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
            padding-bottom: 1rem;
            border-bottom: 2px solid var(--border);
        }

        .results-title {
            color: var(--primary);
            font-size: 1.5rem;
        }

        .results-count {
            color: var(--gray);
            font-size: 1rem;
        }

        .flight-card {
            background: var(--light);
            border-radius: 10px;
            padding: 1.5rem;
            margin-bottom: 1rem;
            border: 1px solid var(--border);
            transition: transform 0.3s, box-shadow 0.3s;
        }

        .flight-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .flight-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }

        .flight-route {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .flight-code {
            background: var(--primary);
            color: white;
            padding: 0.3rem 0.8rem;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 600;
        }

        .flight-times {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-weight: 600;
        }

        .flight-duration {
            color: var(--gray);
            font-size: 0.9rem;
        }

        .flight-details {
            display: grid;
            grid-template-columns: 2fr 1fr 1fr;
            gap: 1rem;
            align-items: center;
        }

        .flight-price {
            text-align: right;
        }

        .price-amount {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--secondary);
        }

        .book-btn {
            background: var(--secondary);
            color: white;
            border: none;
            padding: 0.8rem 1.5rem;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }

        .book-btn:hover {
            background: #b91c1c;
            transform: translateY(-2px);
        }

        .no-flights {
            text-align: center;
            padding: 3rem;
            color: var(--gray);
        }

        .no-flights i {
            font-size: 3rem;
            margin-bottom: 1rem;
            color: var(--gray);
        }

        /* Features Section */
        .features {
            padding: 4rem 0;
            background-color: white;
        }

        .section-title {
            text-align: center;
            margin-bottom: 3rem;
            color: var(--primary);
            font-size: 2rem;
        }

        .features-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 2rem;
        }

        .feature-card {
            background-color: var(--light);
            border-radius: 12px;
            padding: 2rem;
            text-align: center;
            transition: transform 0.3s, box-shadow 0.3s;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
        }

        .feature-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.1);
        }

        .feature-icon {
            font-size: 3rem;
            color: var(--primary);
            margin-bottom: 1rem;
        }

        .feature-card h3 {
            margin-bottom: 1rem;
            color: var(--dark);
        }

        /* Services Portal Styles */
        .services-portal {
            padding: 4rem 0;
            background-color: white;
        }

        .links-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
            margin-top: 2rem;
        }

        .category {
            background: var(--light);
            border-radius: 12px;
            padding: 25px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
            transition: transform 0.3s, box-shadow 0.3s;
        }

        .category:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
        }

        .category h3 {
            color: var(--primary);
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid var(--accent);
            font-size: 1.3rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .category h3 i {
            color: var(--secondary);
        }

        .links-list {
            list-style: none;
        }

        .links-list li {
            margin-bottom: 12px;
        }

        .links-list a {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px 15px;
            background: white;
            border-radius: 8px;
            text-decoration: none;
            color: var(--dark);
            font-weight: 500;
            transition: all 0.2s;
            border-left: 4px solid transparent;
        }

        .links-list a:hover {
            background: #e9ecef;
            border-left: 4px solid var(--primary);
            transform: translateX(5px);
        }

        .links-list a i {
            color: var(--primary);
            width: 20px;
            text-align: center;
        }

        /* Subpage Styles */
        .subpage-content {
            background: white;
            border-radius: 12px;
            padding: 30px;
            margin-top: 20px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
            max-width: 1000px;
            margin-left: auto;
            margin-right: auto;
        }

        .subpage-header {
            display: flex;
            align-items: center;
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 2px solid var(--accent);
        }

        .back-btn {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 10px 20px;
            background: var(--primary);
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 500;
            transition: background 0.3s;
            margin-right: 20px;
        }

        .back-btn:hover {
            background: #1e3a8a;
        }

        .subpage-header h2 {
            color: var(--primary);
            font-size: 1.8rem;
        }

        .btn {
            padding: 12px 25px;
            background: var(--primary);
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 500;
            transition: background 0.3s;
        }

        .btn:hover {
            background: #1e3a8a;
        }

        /* Chatbot */
        .chatbot-container {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 1000;
        }

        .chatbot-toggle {
            width: 60px;
            height: 60px;
            background: var(--primary);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 24px;
            cursor: pointer;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
            transition: transform 0.3s;
        }

        .chatbot-toggle:hover {
            transform: scale(1.1);
        }

        .chatbot-window {
            position: absolute;
            bottom: 70px;
            right: 0;
            width: 350px;
            height: 450px;
            background: white;
            border-radius: 12px;
            box-shadow: 0 5px 25px rgba(0, 0, 0, 0.15);
            display: none;
            flex-direction: column;
            overflow: hidden;
        }

        .chatbot-window.active {
            display: flex;
        }

        .chatbot-header {
            background: var(--primary);
            color: white;
            padding: 15px;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .chatbot-title {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .chatbot-close {
            background: none;
            border: none;
            color: white;
            font-size: 18px;
            cursor: pointer;
        }

        .chatbot-messages {
            flex: 1;
            padding: 15px;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .message {
            max-width: 80%;
            padding: 10px 15px;
            border-radius: 18px;
            font-size: 14px;
            line-height: 1.4;
        }

        .bot-message {
            background: #f1f3f4;
            align-self: flex-start;
            border-bottom-left-radius: 5px;
        }

        .user-message {
            background: var(--primary);
            color: white;
            align-self: flex-end;
            border-bottom-right-radius: 5px;
        }

        .chatbot-input {
            display: flex;
            padding: 15px;
            border-top: 1px solid var(--border);
        }

        .chatbot-input input {
            flex: 1;
            padding: 12px 15px;
            border: 1px solid var(--border);
            border-radius: 20px;
            outline: none;
        }

        .chatbot-input button {
            background: var(--primary);
            color: white;
            border: none;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            margin-left: 10px;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        .chatbot-input button:hover {
            background: #1e3a8a;
        }

        .quick-replies {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-top: 10px;
        }

        .quick-reply {
            background: white;
            border: 1px solid var(--primary);
            color: var(--primary);
            padding: 6px 12px;
            border-radius: 15px;
            font-size: 12px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .quick-reply:hover {
            background: var(--primary);
            color: white;
        }

        /* Footer */
        footer {
            background-color: var(--dark);
            color: white;
            padding: 4rem 0 2rem;
        }

        .footer-content {
            display: grid;
            grid-template-columns: 2fr 1fr 1fr 1fr;
            gap: 2rem;
            margin-bottom: 2rem;
        }

        .footer-logo h2 {
            font-size: 1.8rem;
            margin-bottom: 0.5rem;
        }

        .footer-logo p {
            opacity: 0.8;
            margin-bottom: 1.5rem;
        }

        .social-icons {
            display: flex;
            gap: 1rem;
        }

        .social-icon {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 40px;
            height: 40px;
            background-color: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            transition: background-color 0.3s;
            text-decoration: none;
            color: white;
        }

        .social-icon:hover {
            background-color: var(--accent);
        }

        .footer-links h3 {
            margin-bottom: 1.5rem;
            font-size: 1.2rem;
            position: relative;
            padding-bottom: 0.5rem;
        }

        .footer-links h3::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 40px;
            height: 2px;
            background-color: var(--accent);
        }

        .footer-links ul {
            list-style: none;
        }

        .footer-links li {
            margin-bottom: 0.8rem;
        }

        .footer-links a {
            color: rgba(255, 255, 255, 0.8);
            text-decoration: none;
            transition: color 0.3s;
            cursor: pointer;
        }

        .footer-links a:hover {
            color: var(--accent);
        }

        .contact-info p {
            margin-bottom: 0.8rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .footer-bottom {
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            padding-top: 2rem;
            text-align: center;
            opacity: 0.7;
        }

        .footer-bottom a {
            color: var(--accent);
            text-decoration: none;
        }

        /* Responsive Design */
        @media (max-width: 992px) {
            .search-form {
                grid-template-columns: repeat(2, 1fr);
            }

            .features-grid {
                grid-template-columns: repeat(2, 1fr);
            }

            .footer-content {
                grid-template-columns: 1fr 1fr;
            }

            .flight-details {
                grid-template-columns: 1fr;
                gap: 0.5rem;
            }
        }

        @media (max-width: 768px) {
            .nav-container {
                flex-direction: column;
                gap: 1rem;
            }

            nav ul {
                gap: 1rem;
                flex-wrap: wrap;
                justify-content: center;
            }

            .hero h2 {
                font-size: 2.2rem;
            }

            .chatbot-window {
                width: 300px;
                height: 400px;
            }

            .search-form {
                grid-template-columns: 1fr;
            }

            .search-options {
                flex-direction: column;
                gap: 1rem;
                align-items: flex-start;
            }

            .features-grid {
                grid-template-columns: 1fr;
            }

            .footer-content {
                grid-template-columns: 1fr;
            }

            .flight-header {
                flex-direction: column;
                align-items: flex-start;
                gap: 1rem;
            }
        }

        .loading {
            text-align: center;
            padding: 2rem;
            color: var(--primary);
        }

        .loading i {
            font-size: 2rem;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% {
                transform: rotate(0deg);
            }

            100% {
                transform: rotate(360deg);
            }
        }

        .connection-status {
            position: fixed;
            bottom: 20px;
            left: 20px;
            background: white;
            padding: 10px 20px;
            border-radius: 25px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 0.9rem;
            z-index: 1000;
        }

        .status-dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background: #10b981;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {

            0%,
            100% {
                opacity: 1;
            }

            50% {
                opacity: 0.5;
            }
        }

        .status-dot.disconnected {
            background: #ef4444;
        }
    </style>
</head>

<body>
    <!-- Header -->
    <header>
        <div class="container nav-container">
            <div class="logo" onclick="showPage('home')">
                <h1>SPARK Airways <span>आप की सुविधा हमारा वादा!</span></h1>
            </div>
            <nav>
                <ul>
                    <li><a onclick="showPage('home')">Home</a></li>
                    <li><a onclick="showPage('flights')">Flights</a></li>
                    <li><a onclick="showPage('services')">Services</a></li>
                    <li><a onclick="showPage('manage-booking')">Manage Booking</a></li>
                    <li><a onclick="showPage('support')">Support</a></li>
                </ul>
            </nav>
            <<a href="signup.html">
                <button class="sign-in-btn">Sign In</button>
                </a>
        </div>
    </header>

    <!-- Home Page -->
    <div id="home-page" class="page-section active">
        <!-- Hero Section -->
        <section class="hero">
            <div class="container">
                <div class="tagline">आप की सुविधा हमारा वादा!</div>
                <h2>Welcome to SPARK Airways</h2>
                <p>Your comfort is our promise - Experience premium air travel with unmatched service</p>
            </div>
        </section>

        <!-- Flight Search -->
        <section class="container">
            <div class="flight-search">
                <h3 class="search-title">Find Your Perfect Flight</h3>
                <form class="search-form" id="flightSearchForm">
                    <div class="form-group">
                        <label for="from">From</label>
                        <select id="from" class="form-control" required>
                            <option value="" disabled selected>Select origin</option>
                            <option value="DEL">Delhi (DEL)</option>
                            <option value="BOM">Mumbai (BOM)</option>
                            <option value="BLR">Bangalore (BLR)</option>
                            <option value="MAA">Chennai (MAA)</option>
                            <option value="CCU">Kolkata (CCU)</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="to">To</label>
                        <select id="to" class="form-control" required>
                            <option value="" disabled selected>Select destination</option>
                            <option value="DEL">Delhi (DEL)</option>
                            <option value="BOM">Mumbai (BOM)</option>
                            <option value="BLR">Bangalore (BLR)</option>
                            <option value="MAA">Chennai (MAA)</option>
                            <option value="CCU">Kolkata (CCU)</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="departure">Departure</label>
                        <input type="date" id="departure" class="form-control" required>
                    </div>
                    <div class="form-group">
                        <label for="passengers">Passengers</label>
                        <select id="passengers" class="form-control" required>
                            <option value="1">1 Passenger</option>
                            <option value="2">2 Passengers</option>
                            <option value="3">3 Passengers</option>
                            <option value="4">4 Passengers</option>
                            <option value="5">5+ Passengers</option>
                        </select>
                    </div>
                </form>
                <div class="search-options">
                    <div class="radio-group">
                        <div class="radio-option">
                            <input type="radio" id="cheapest" name="flight-option" value="cheapest" checked>
                            <label for="cheapest">Cheapest</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="fastest" name="flight-option" value="fastest">
                            <label for="fastest">Fastest</label>
                        </div>
                    </div>
                    <button class="search-btn" id="searchFlightsBtn">Search Flights</button>
                    <a href="analysis.html">
                        <button class="Isearch-btn" id="IsearchFlightsBtn">Analysis Flights</button>
                    </a>
                </div>
            </div>
        </section>

        <!-- Flight Results Section -->
        <section class="container">
            <div class="flight-results" id="flightResults">
                <div class="results-header">
                    <h3 class="results-title">Available Flights</h3>
                    <span class="results-count" id="resultsCount">0 flights found</span>
                </div>
                <div id="flightsList"></div>
            </div>
        </section>

        <!-- Features Section -->
        <section class="features">
            <div class="container">
                <h2 class="section-title">Why Choose SPARK Airways?</h2>
                <p
                    style="text-align: center; margin-bottom: 3rem; max-width: 800px; margin-left: auto; margin-right: auto;">
                    Experience the difference with our premium services
                </p>
                <div class="features-grid">
                    <div class="feature-card">
                        <div class="feature-icon"><i class="fas fa-shield-alt"></i></div>
                        <h3>Safe & Secure</h3>
                        <p>Industry-leading safety standards with advanced aircraft monitoring systems.</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon"><i class="fas fa-clock"></i></div>
                        <h3>On-Time Performance</h3>
                        <p>96% on-time performance record with efficient flight operations.</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon"><i class="fas fa-headset"></i></div>
                        <h3>24/7 Support</h3>
                        <p>Round-the-clock customer support with AI-powered assistance.</p>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <!-- Flights Page (same as home search, reusable) -->
    <div id="flights-page" class="page-section">
        <section class="hero" style="padding: 3rem 0;">
            <div class="container">
                <h2>Book Your Flight</h2>
                <p>Find the best deals on flights to destinations worldwide</p>
            </div>
        </section>
        <section class="container">
            <div class="flight-search">
                <h3 class="search-title">Search Flights</h3>
                <form class="search-form">
                    <div class="form-group">
                        <label>From</label>
                        <select class="form-control" required>
                            <option value="" disabled selected>Select origin</option>
                            <option value="DEL">Delhi (DEL)</option>
                            <option value="BOM">Mumbai (BOM)</option>
                            <option value="BLR">Bangalore (BLR)</option>
                            <option value="MAA">Chennai (MAA)</option>
                            <option value="CCU">Kolkata (CCU)</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>To</label>
                        <select class="form-control" required>
                            <option value="" disabled selected>Select destination</option>
                            <option value="DEL">Delhi (DEL)</option>
                            <option value="BOM">Mumbai (BOM)</option>
                            <option value="BLR">Bangalore (BLR)</option>
                            <option value="MAA">Chennai (MAA)</option>
                            <option value="CCU">Kolkata (CCU)</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Departure</label>
                        <input type="date" class="form-control" required>
                    </div>
                    <div class="form-group">
                        <label>Passengers</label>
                        <select class="form-control" required>
                            <option value="1">1 Passenger</option>
                            <option value="2">2 Passengers</option>
                            <option value="3">3 Passengers</option>
                            <option value="4">4 Passengers</option>
                            <option value="5">5+ Passengers</option>
                        </select>
                    </div>
                </form>
                <div class="search-options">
                    <div class="radio-group">
                        <div class="radio-option">
                            <input type="radio" name="flight-option-2" value="cheapest" checked>
                            <label>Cheapest</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="flight-option-2" value="fastest">
                            <label>Fastest</label>
                        </div>
                    </div>
                    <button class="search-btn">Search Flights</button>
                </div>
            </div>
        </section>
    </div>

    <!-- Services Portal Page -->
    <div id="services-page" class="page-section">
        <section class="services-portal">
            <div class="container">
                <h2 class="section-title">Airline Services Portal</h2>
                <p style="text-align: center; margin-bottom: 2rem; color: var(--gray);">Find everything you need for
                    your journey in one place</p>

                <div class="links-grid">
                    <!-- Quick Links Category -->
                    <div class="category">
                        <h3><i class="fas fa-bolt"></i> Quick Links</h3>
                        <ul class="links-list">
                            <li><a onclick="showSubpage('book-flights')"><i class="fas fa-plane"></i> Book Flights</a>
                            </li>
                            <li><a onclick="showSubpage('manage-booking-detail')"><i class="fas fa-tasks"></i> Manage
                                    Booking</a></li>
                            <li><a onclick="showSubpage('check-in')"><i class="fas fa-check-circle"></i> Check-in
                                    Online</a></li>
                            <li><a onclick="showSubpage('flight-status')"><i class="fas fa-info-circle"></i> Flight
                                    Status</a></li>
                            <li><a onclick="showSubpage('baggage-info')"><i class="fas fa-suitcase"></i> Baggage
                                    Info</a></li>
                        </ul>
                    </div>

                    <!-- Support Category -->
                    <div class="category">
                        <h3><i class="fas fa-headset"></i> Support</h3>
                        <ul class="links-list">
                            <li><a onclick="showSubpage('contact-us')"><i class="fas fa-phone-alt"></i> Contact Us</a>
                            </li>
                            <li><a onclick="showSubpage('faqs')"><i class="fas fa-question-circle"></i> FAQs</a></li>
                            <li><a onclick="showSubpage('travel-advisory')"><i class="fas fa-exclamation-triangle"></i>
                                    Travel Advisory</a></li>
                            <li><a onclick="showSubpage('refund-policy')"><i class="fas fa-undo"></i> Refund Policy</a>
                            </li>
                            <li><a onclick="showSubpage('site-map')"><i class="fas fa-sitemap"></i> Site Map</a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <!-- Manage Booking Page -->
    <div id="manage-booking-page" class="page-section">
        <section class="hero" style="padding: 3rem 0;">
            <div class="container">
                <h2>Manage Your Booking</h2>
                <p>View or modify your existing reservations</p>
            </div>
        </section>
        <section class="container">
            <div class="subpage-content">
                <h3>Retrieve Your Booking</h3>
                <p>Make changes to your flight, select seats, add special meals, or update passenger information.</p>

                <div class="form-group">
                    <label for="booking-ref">Booking Reference</label>
                    <input type="text" id="booking-ref" class="form-control" placeholder="Enter your booking reference">
                </div>

                <div class="form-group">
                    <label for="last-name">Last Name</label>
                    <input type="text" id="last-name" class="form-control" placeholder="Enter passenger's last name">
                </div>

                <button class="btn">Retrieve Booking</button>

                <h3 style="margin-top: 2rem;">What You Can Do</h3>
                <ul style="margin-left: 1.5rem;">
                    <li>Change flight dates or times</li>
                    <li>Select or change seats</li>
                    <li>Add special meals</li>
                    <li>Update passenger details</li>
                    <li>Purchase additional baggage</li>
                    <li>Upgrade your class</li>
                </ul>
            </div>
        </section>
    </div>

    <!-- Support Page -->
    <div id="support-page" class="page-section">
        <section class="hero" style="padding: 3rem 0;">
            <div class="container">
                <h2>Customer Support</h2>
                <p>We're here to help you every step of the way</p>
            </div>
        </section>
        <section class="container">
            <div class="subpage-content">
                <h3>Get in Touch</h3>
                <p>We're here to help with any questions or concerns you may have.</p>

                <h3 style="color: var(--secondary); margin-top: 2rem;">Customer Service</h3>
                <p><strong>Phone:</strong> +91 1800-123-4567 (24/7)</p>
                <p><strong>Email:</strong> support@sparkairways.com</p>
                <p><strong>Live Chat:</strong> Available through our chatbot (bottom right)</p>

                <h3 style="color: var(--secondary); margin-top: 2rem;">Send Us a Message</h3>
                <div class="form-group">
                    <label for="name">Full Name</label>
                    <input type="text" id="name" class="form-control" placeholder="Your full name">
                </div>

                <div class="form-group">
                    <label for="email">Email Address</label>
                    <input type="email" id="email" class="form-control" placeholder="Your email address">
                </div>

                <div class="form-group">
                    <label for="subject">Subject</label>
                    <select id="subject" class="form-control">
                        <option>General Inquiry</option>
                        <option>Flight Booking</option>
                        <option>Baggage Issue</option>
                        <option>Refund Request</option>
                        <option>Complaint</option>
                        <option>Compliment</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="message">Message</label>
                    <textarea id="message" class="form-control" rows="5" placeholder="Your message"></textarea>
                </div>

                <button class="btn">Send Message</button>
            </div>
        </section>
    </div>

    <!-- Subpages for Services -->
    <div id="book-flights" class="page-section">
        <section class="container" style="padding: 2rem 0;">
            <div class="subpage-content">
                <div class="subpage-header">
                    <button class="back-btn" onclick="showPage('services')"><i class="fas fa-arrow-left"></i>
                        Back</button>
                    <h2><i class="fas fa-plane"></i> Book Flights</h2>
                </div>
                <h3>Find and Book Your Flight</h3>
                <p>Search for available flights and book your journey with ease.</p>

                <div class="form-group">
                    <label for="from-book">From</label>
                    <input type="text" id="from-book" class="form-control" placeholder="Departure city">
                </div>

                <div class="form-group">
                    <label for="to-book">To</label>
                    <input type="text" id="to-book" class="form-control" placeholder="Destination city">
                </div>

                <div class="form-group">
                    <label for="departure-book">Departure Date</label>
                    <input type="date" id="departure-book" class="form-control">
                </div>

                <div class="form-group">
                    <label for="return-book">Return Date (Optional)</label>
                    <input type="date" id="return-book" class="form-control">
                </div>

                <div class="form-group">
                    <label for="passengers-book">Passengers</label>
                    <select id="passengers-book" class="form-control">
                        <option>1 Adult</option>
                        <option>2 Adults</option>
                        <option>1 Adult, 1 Child</option>
                        <option>2 Adults, 1 Child</option>
                        <option>2 Adults, 2 Children</option>
                    </select>
                </div>

                <button class="btn">Search Flights</button>
            </div>
        </section>
    </div>

    <div id="manage-booking-detail" class="page-section">
        <section class="container" style="padding: 2rem 0;">
            <div class="subpage-content">
                <div class="subpage-header">
                    <button class="back-btn" onclick="showPage('services')"><i class="fas fa-arrow-left"></i>
                        Back</button>
                    <h2><i class="fas fa-tasks"></i> Manage Booking</h2>
                </div>
                <h3>Manage Your Existing Booking</h3>
                <p>Make changes to your flight, select seats, add special meals, or update passenger information.</p>

                <div class="form-group">
                    <label>Booking Reference</label>
                    <input type="text" class="form-control" placeholder="Enter your booking reference">
                </div>

                <div class="form-group">
                    <label>Last Name</label>
                    <input type="text" class="form-control" placeholder="Enter passenger's last name">
                </div>

                <button class="btn">Retrieve Booking</button>

                <h3 style="color: var(--secondary); margin-top: 2rem;">What You Can Do</h3>
                <ul style="margin-left: 1.5rem;">
                    <li>Change flight dates or times</li>
                    <li>Select or change seats</li>
                    <li>Add special meals</li>
                    <li>Update passenger details</li>
                    <li>Purchase additional baggage</li>
                    <li>Upgrade your class</li>
                </ul>
            </div>
        </section>
    </div>

    <div id="check-in" class="page-section">
        <section class="container" style="padding: 2rem 0;">
            <div class="subpage-content">
                <div class="subpage-header">
                    <button class="back-btn" onclick="showPage('services')"><i class="fas fa-arrow-left"></i>
                        Back</button>
                    <h2><i class="fas fa-check-circle"></i> Online Check-in</h2>
                </div>
                <h3>Check-in for Your Flight</h3>
                <p>Save time at the airport by checking in online. Online check-in is available from 24 hours to 2 hours
                    before departure.</p>

                <div class="form-group">
                    <label>Booking Reference or eTicket Number</label>
                    <input type="text" class="form-control" placeholder="Enter your reference number">
                </div>

                <div class="form-group">
                    <label>Last Name</label>
                    <input type="text" class="form-control" placeholder="Enter passenger's last name">
                </div>

                <button class="btn">Check-in Now</button>

                <h3 style="color: var(--secondary); margin-top: 2rem;">Benefits of Online Check-in</h3>
                <ul style="margin-left: 1.5rem;">
                    <li>Skip the airport check-in queues</li>
                    <li>Select your preferred seat</li>
                    <li>Receive your boarding pass electronically</li>
                    <li>Get through security faster</li>
                </ul>
            </div>
        </section>
    </div>

    <div id="flight-status" class="page-section">
        <section class="container" style="padding: 2rem 0;">
            <div class="subpage-content">
                <div class="subpage-header">
                    <button class="back-btn" onclick="showPage('services')"><i class="fas fa-arrow-left"></i>
                        Back</button>
                    <h2><i class="fas fa-info-circle"></i> Flight Status</h2>
                </div>
                <h3>Check Your Flight Status</h3>
                <p>Get real-time information about your flight's departure and arrival times.</p>

                <div class="form-group">
                    <label>Flight Number</label>
                    <input type="text" class="form-control" placeholder="e.g., SA123">
                </div>

                <div class="form-group">
                    <label>Date</label>
                    <input type="date" class="form-control">
                </div>

                <button class="btn">Check Status</button>
            </div>
        </section>
    </div>

    <div id="baggage-info" class="page-section">
        <section class="container" style="padding: 2rem 0;">
            <div class="subpage-content">
                <div class="subpage-header">
                    <button class="back-btn" onclick="showPage('services')"><i class="fas fa-arrow-left"></i>
                        Back</button>
                    <h2><i class="fas fa-suitcase"></i> Baggage Information</h2>
                </div>
                <h3>Baggage Allowance and Information</h3>
                <p>Understand our baggage policies to ensure a smooth travel experience.</p>

                <h3 style="color: var(--secondary); margin-top: 2rem;">Carry-on Baggage</h3>
                <ul style="margin-left: 1.5rem;">
                    <li>Economy Class: 1 piece, max 7kg</li>
                    <li>Business Class: 2 pieces, max 14kg total</li>
                    <li>First Class: 2 pieces, max 18kg total</li>
                    <li>Dimensions: 56cm x 36cm x 23cm</li>
                </ul>

                <h3 style="color: var(--secondary); margin-top: 2rem;">Checked Baggage</h3>
                <ul style="margin-left: 1.5rem;">
                    <li>Economy Basic: No checked baggage included</li>
                    <li>Economy Standard: 1 piece, 23kg</li>
                    <li>Economy Flex: 2 pieces, 23kg each</li>
                    <li>Business Class: 2 pieces, 32kg each</li>
                    <li>First Class: 3 pieces, 32kg each</li>
                </ul>
            </div>
        </section>
    </div>

    <div id="contact-us" class="page-section">
        <section class="container" style="padding: 2rem 0;">
            <div class="subpage-content">
                <div class="subpage-header">
                    <button class="back-btn" onclick="showPage('services')"><i class="fas fa-arrow-left"></i>
                        Back</button>
                    <h2><i class="fas fa-phone-alt"></i> Contact Us</h2>
                </div>
                <h3>Get in Touch</h3>
                <p>We're here to help with any questions or concerns you may have.</p>

                <h3 style="color: var(--secondary); margin-top: 2rem;">Customer Service</h3>
                <p><strong>Phone:</strong> +91 1800-123-4567 (24/7)</p>
                <p><strong>Email:</strong> support@sparkairways.com</p>

                <h3 style="color: var(--secondary); margin-top: 2rem;">Send Us a Message</h3>
                <div class="form-group">
                    <label>Full Name</label>
                    <input type="text" class="form-control" placeholder="Your full name">
                </div>

                <div class="form-group">
                    <label>Email Address</label>
                    <input type="email" class="form-control" placeholder="Your email address">
                </div>

                <div class="form-group">
                    <label>Subject</label>
                    <select class="form-control">
                        <option>General Inquiry</option>
                        <option>Flight Booking</option>
                        <option>Baggage Issue</option>
                        <option>Refund Request</option>
                    </select>
                </div>

                <div class="form-group">
                    <label>Message</label>
                    <textarea class="form-control" rows="5" placeholder="Your message"></textarea>
                </div>

                <button class="btn">Send Message</button>
            </div>
        </section>
    </div>

    <div id="faqs" class="page-section">
        <section class="container" style="padding: 2rem 0;">
            <div class="subpage-content">
                <div class="subpage-header">
                    <button class="back-btn" onclick="showPage('services')"><i class="fas fa-arrow-left"></i>
                        Back</button>
                    <h2><i class="fas fa-question-circle"></i> FAQs</h2>
                </div>
                <h3>Common Questions</h3>

                <h4 style="color: var(--secondary); margin-top: 1.5rem;">Booking & Reservations</h4>
                <p><strong>Q: How can I change my flight?</strong></p>
                <p>A: You can change your flight through the "Manage Booking" section on our website or by contacting
                    our customer service.</p>

                <p><strong>Q: What payment methods do you accept?</strong></p>
                <p>A: We accept all major credit cards, debit cards, PayPal, and bank transfers.</p>

                <h4 style="color: var(--secondary); margin-top: 1.5rem;">Check-in & Boarding</h4>
                <p><strong>Q: When does online check-in open?</strong></p>
                <p>A: Online check-in opens 24 hours before departure and closes 2 hours before departure.</p>
            </div>
        </section>
    </div>

    <div id="travel-advisory" class="page-section">
        <section class="container" style="padding: 2rem 0;">
            <div class="subpage-content">
                <div class="subpage-header">
                    <button class="back-btn" onclick="showPage('services')"><i class="fas fa-arrow-left"></i>
                        Back</button>
                    <h2><i class="fas fa-exclamation-triangle"></i> Travel Advisory</h2>
                </div>
                <h3>Important Travel Information</h3>
                <p>Stay informed about travel requirements and restrictions for your destination.</p>

                <h4 style="color: var(--secondary); margin-top: 1.5rem;">Travel Tips</h4>
                <ul style="margin-left: 1.5rem;">
                    <li>Arrive at the airport at least 2 hours before domestic flights</li>
                    <li>Arrive 3 hours before international flights</li>
                    <li>Keep important documents in your carry-on luggage</li>
                    <li>Check the latest travel advisories before departure</li>
                    <li>Consider purchasing travel insurance</li>
                </ul>
            </div>
        </section>
    </div>

    <!-- Connection Status -->
    <div class="connection-status" id="connectionStatus">
        <div class="status-dot" id="statusDot"></div>
        <span id="statusText">Connecting to database...</span>
    </div>

    <div id="refund-policy" class="page-section">
        <section class="container" style="padding: 2rem 0;">
            <div class="subpage-content">
                <div class="subpage-header">
                    <button class="back-btn" onclick="showPage('services')"><i class="fas fa-arrow-left"></i>
                        Back</button>
                    <h2><i class="fas fa-undo"></i> Refund Policy</h2>
                </div>
                <h3>Refund and Cancellation Policy</h3>
                <p>Understand our policies regarding refunds and cancellations.</p>

                <h4 style="color: var(--secondary); margin-top: 1.5rem;">Refund Eligibility</h4>
                <ul style="margin-left: 1.5rem;">
                    <li><strong>Basic Economy:</strong> Non-refundable, non-changeable</li>
                    <li><strong>Standard Economy:</strong> Refundable with a cancellation fee</li>
                    <li><strong>Flex Economy:</strong> Fully refundable</li>
                    <li><strong>Business Class:</strong> Fully refundable</li>
                    <li><strong>First Class:</strong> Fully refundable</li>
                </ul>

                <h4 style="color: var(--secondary); margin-top: 1.5rem;">Refund Processing Time</h4>
                <p>Refunds are typically processed within 7-10 business days.</p>
            </div>
        </section>
    </div>

    <div id="site-map" class="page-section">
        <section class="container" style="padding: 2rem 0;">
            <div class="subpage-content">
                <div class="subpage-header">
                    <button class="back-btn" onclick="showPage('services')"><i class="fas fa-arrow-left"></i>
                        Back</button>
                    <h2><i class="fas fa-sitemap"></i> Site Map</h2>
                </div>
                <h3>Website Navigation</h3>
                <p>Find your way around our website with this comprehensive site map.</p>

                <h4 style="color: var(--secondary); margin-top: 1.5rem;">Quick Links</h4>
                <ul style="margin-left: 1.5rem;">
                    <li>Book Flights</li>
                    <li>Manage Booking</li>
                    <li>Check-in Online</li>
                    <li>Flight Status</li>
                    <li>Baggage Information</li>
                </ul>

                <h4 style="color: var(--secondary); margin-top: 1.5rem;">Support</h4>
                <ul style="margin-left: 1.5rem;">
                    <li>Contact Us</li>
                    <li>FAQs</li>
                    <li>Travel Advisory</li>
                    <li>Refund Policy</li>
                </ul>
            </div>
        </section>
    </div>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-logo">
                    <h2>SPARK Airways</h2>
                    <div class="tagline">आप की सुविधा हमारा वादा!</div>
                    <p>Experience the best in air travel with SPARK Airways. Safe, comfortable, and affordable flights.
                    </p>
                    <div class="social-icons">
                        <a href="#" class="social-icon"><i class="fab fa-facebook-f"></i></a>
                        <a href="#" class="social-icon"><i class="fab fa-twitter"></i></a>
                        <a href="#" class="social-icon"><i class="fab fa-instagram"></i></a>
                        <a href="#" class="social-icon"><i class="fab fa-linkedin-in"></i></a>
                    </div>
                </div>
                <div class="footer-links">
                    <h3>Quick Links</h3>
                    <ul>
                        <li><a onclick="showSubpage('book-flights')">Book Flights</a></li>
                        <li><a onclick="showPage('manage-booking')">Manage Booking</a></li>
                        <li><a onclick="showSubpage('check-in')">Check-in Online</a></li>
                        <li><a onclick="showSubpage('flight-status')">Flight Status</a></li>
                        <li><a onclick="showSubpage('baggage-info')">Baggage Info</a></li>
                    </ul>
                </div>
                <div class="footer-links">
                    <h3>Support</h3>
                    <ul>
                        <li><a onclick="showSubpage('contact-us')">Contact Us</a></li>
                        <li><a onclick="showSubpage('faqs')">FAQs</a></li>
                        <li><a onclick="showSubpage('travel-advisory')">Travel Advisory</a></li>
                        <li><a onclick="showSubpage('refund-policy')">Refund Policy</a></li>
                        <li><a onclick="showSubpage('site-map')">Site Map</a></li>
                    </ul>
                </div>
                <div class="footer-links">
                    <h3>Contact Us</h3>
                    <div class="contact-info">
                        <p><i class="fas fa-phone"></i> +91 1800-123-4567</p>
                        <p><i class="fas fa-envelope"></i> support@sparkairways.com</p>
                        <p><i class="fas fa-map-marker-alt"></i> New Delhi, India</p>
                    </div>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2024 SPARK Airways. All rights reserved. | <a href="#">Privacy Policy</a> | <a href="#">Terms
                        & Conditions</a></p>
            </div>
        </div>
    </footer>

    <!-- Chatbot -->
    <div class="chatbot-container">
        <div class="chatbot-toggle" id="chatbotToggle">
            <i class="fas fa-robot"></i>
        </div>

        <div class="chatbot-window" id="chatbotWindow">
            <div class="chatbot-header">
                <div class="chatbot-title">
                    <i class="fas fa-robot"></i>
                    <span>Flight Assistant</span>
                </div>
                <button class="chatbot-close" id="chatbotClose">
                    <i class="fas fa-times"></i>
                </button>
            </div>

            <div class="chatbot-messages" id="chatbotMessages">
                <div class="message bot-message">
                    Hello! I'm your flight assistant. How can I help you today?
                    <div class="quick-replies">
                        <div class="quick-reply" data-message="Find cheapest flights">Find cheapest flights</div>
                        <div class="quick-reply" data-message="Check flight status">Flight status</div>
                        <div class="quick-reply" data-message="Baggage information">Baggage info</div>
                    </div>
                </div>
            </div>

            <div class="chatbot-input">
                <input type="text" id="chatbotInput" placeholder="Ask about flights, deals, or destinations...">
                <button id="chatbotSend">
                    <i class="fas fa-paper-plane"></i>
                </button>
            </div>
        </div>
    </div>

    <script type="module">
        import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js';
        import { getDatabase, ref, onValue } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-database.js';

        // Firebase Configuration
        const firebaseConfig = {
            apiKey: "AIzaSyBFWDeHKSd9x5rqyEk0LDTxyRXSXC7oonE",
            authDomain: "spark-airways.firebaseapp.com",
            databaseURL: "https://spark-airways-default-rtdb.firebaseio.com",
            projectId: "spark-airways",
            storageBucket: "spark-airways.firebasestorage.app",
            messagingSenderId: "537142816636",
            appId: "1:537142816636:web:d7093016e2d95836027ef9"
        };

        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const database = getDatabase(app);

        let allFlights = [];
        let cities = new Set();

        // Make functions globally available
        window.showPage = showPage;
        window.showSubpage = showSubpage;
        window.bookFlight = bookFlight;

        // Load flights from Firebase
        const flightsRef = ref(database, 'flights');
        onValue(flightsRef, (snapshot) => {
            if (snapshot.exists()) {
                allFlights = [];
                cities.clear();

                snapshot.forEach((childSnapshot) => {
                    const flight = childSnapshot.val();
                    flight.id = childSnapshot.key;
                    allFlights.push(flight);
                    cities.add(flight.from);
                    cities.add(flight.to);
                });

                populateCityDropdowns();
                updateConnectionStatus(true);
                console.log(`Loaded ${allFlights.length} flights from Firebase`);
            } else {
                updateConnectionStatus(false);
                console.log('No flights found in database');
            }
        }, (error) => {
            updateConnectionStatus(false);
            console.error('Firebase error:', error);
        });

        function updateConnectionStatus(connected) {
            const statusDot = document.getElementById('statusDot');
            const statusText = document.getElementById('statusText');

            if (!statusDot || !statusText) return;

            if (connected) {
                statusDot.classList.remove('disconnected');
                statusText.textContent = `Connected (${allFlights.length} flights)`;
            } else {
                statusDot.classList.add('disconnected');
                statusText.textContent = 'Database not configured';
            }
        }

        function populateCityDropdowns() {
            const fromSelect = document.getElementById('from');
            const toSelect = document.getElementById('to');

            if (!fromSelect || !toSelect) return;

            const sortedCities = Array.from(cities).sort();

            fromSelect.innerHTML = '<option value="" disabled selected>Select origin</option>';
            toSelect.innerHTML = '<option value="" disabled selected>Select destination</option>';

            sortedCities.forEach(city => {
                fromSelect.innerHTML += `<option value="${city}">${city}</option>`;
                toSelect.innerHTML += `<option value="${city}">${city}</option>`;
            });
        }

        // Navigation Functions
        function showPage(pageName) {
            // Hide all pages
            document.querySelectorAll('.page-section').forEach(page => {
                page.classList.remove('active');
            });

            // Show selected page
            const pageElement = document.getElementById(pageName + '-page');
            if (pageElement) {
                pageElement.classList.add('active');
            }

            // Update active nav link
            document.querySelectorAll('nav a').forEach(link => {
                link.classList.remove('active');
            });

            // Scroll to top
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        function showSubpage(pageName) {
            // Hide all pages
            document.querySelectorAll('.page-section').forEach(page => {
                page.classList.remove('active');
            });

            // Show selected subpage
            const subpage = document.getElementById(pageName);
            if (subpage) {
                subpage.classList.add('active');
            }

            // Scroll to top
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // Initialize date inputs and event listeners
        document.addEventListener('DOMContentLoaded', function () {
            const today = new Date();
            const formattedDate = today.toISOString().split('T')[0];

            const departureInput = document.getElementById('departure');
            if (departureInput) {
                departureInput.min = formattedDate;
                departureInput.value = formattedDate;
            }

            // Search button handler
            const searchBtn = document.getElementById('searchFlightsBtn');
            if (searchBtn) {
                searchBtn.addEventListener('click', function (e) {
                    e.preventDefault();
                    searchFlights();
                });
            }

            // Form submit handler
            const searchForm = document.getElementById('flightSearchForm');
            if (searchForm) {
                searchForm.addEventListener('submit', function (e) {
                    e.preventDefault();
                    searchFlights();
                });
            }

            // Chatbot handlers
            setupChatbot();

            // Make sure home page is active on load
            showPage('home');
        });

        // Flight search function
        function searchFlights() {
            const from = document.getElementById('from').value;
            const to = document.getElementById('to').value;
            const departure = document.getElementById('departure').value;
            const passengers = document.getElementById('passengers').value;
            const searchType = document.querySelector('input[name="flight-option"]:checked').value;

            if (!from || !to || !departure) {
                alert('Please fill in all fields to search for flights.');
                return;
            }

            if (from === to) {
                alert('Please select different origin and destination cities.');
                return;
            }

            const flightsList = document.getElementById('flightsList');
            if (flightsList) {
                flightsList.innerHTML = '<div class="loading"><i class="fas fa-circle-notch"></i><p>Searching flights...</p></div>';
            }

            const resultsSection = document.getElementById('flightResults');
            if (resultsSection) {
                resultsSection.style.display = 'block';
            }

            setTimeout(() => {
                let matchingFlights = allFlights.filter(flight =>
                    flight.from === from && flight.to === to
                );

                // Sort flights based on search type
                if (searchType === 'cheapest') {
                    matchingFlights.sort((a, b) => a.price - b.price);
                } else if (searchType === 'fastest') {
                    matchingFlights.sort((a, b) => a.distance - b.distance);
                }

                displayFlights(matchingFlights, from, to, departure, passengers);
                if (resultsSection) {
                    resultsSection.scrollIntoView({ behavior: 'smooth' });
                }
            }, 500);
        }

        // Display flights
        function displayFlights(flights, from, to, departure, passengers) {
            const flightsList = document.getElementById('flightsList');
            const resultsCount = document.getElementById('resultsCount');

            if (!flightsList || !resultsCount) return;

            flightsList.innerHTML = '';

            if (flights.length === 0) {
                flightsList.innerHTML = `
                <div class="no-flights">
                    <i class="fas fa-plane-slash"></i>
                    <h3>No Flights Found</h3>
                    <p>Sorry, we couldn't find any flights from ${from} to ${to}.</p>
                    <p>Please try different cities.</p>
                </div>
            `;
                resultsCount.textContent = '0 flights found';
            } else {
                resultsCount.textContent = `${flights.length} flight${flights.length > 1 ? 's' : ''} found`;

                flights.forEach(flight => {
                    const flightCard = document.createElement('div');
                    flightCard.className = 'flight-card';
                    flightCard.innerHTML = `
                    <div class="flight-header">
                        <div class="flight-route">
                            <span class="flight-code">${flight.airline || 'SPARK Airways'}</span>
                            <div class="flight-times">
                                <span>${flight.departureTime || '06:00 AM'}</span>
                                <i class="fas fa-arrow-right"></i>
                                <span>${flight.arrivalTime || '08:15 AM'}</span>
                                <span class="flight-duration">${formatDuration(flight.distance || 1150)}</span>
                            </div>
                        </div>
                        <div class="flight-seats">
                            <i class="fas fa-route"></i>
                            <span>${Math.round(flight.distance || 1150)} km</span>
                        </div>
                    </div>
                    <div class="flight-details">
                        <div class="flight-info">
                            <div><strong>${flight.from} → ${flight.to}</strong></div>
                            <div>${flight.fromIATA || 'DEL'} → ${flight.toIATA || 'BOM'}</div>
                        </div>
                        <div class="flight-price">
                            <div class="price-amount">₹${(flight.price || 3200).toLocaleString()}</div>
                            <div>per person</div>
                        </div>
                        <button class="book-btn" onclick="bookFlight('${flight.airline || 'SPARK Airways'}', '${flight.from}', '${flight.to}', ${passengers}, ${flight.price || 3200})">
                            Book Now
                        </button>
                    </div>
                `;
                    flightsList.appendChild(flightCard);
                });
            }
        }

        // Helper functions
        function formatDuration(distance) {
            const hours = Math.round((distance / 800 + 1) * 10) / 10;
            const wholeHours = Math.floor(hours);
            const minutes = Math.round((hours - wholeHours) * 60);
            return `${wholeHours}h ${minutes}m`;
        }

        function bookFlight(airline, from, to, passengers, price) {
            const total = price * passengers;
            alert(`Booking Details:\n\nAirline: ${airline}\nRoute: ${from} → ${to}\nPassengers: ${passengers}\nTotal: ₹${total.toLocaleString()}\n\nThis would redirect to payment in a real application.`);
        }

        // Chatbot functionality
        function setupChatbot() {
            const chatbotToggle = document.getElementById('chatbotToggle');
            const chatbotWindow = document.getElementById('chatbotWindow');
            const chatbotClose = document.getElementById('chatbotClose');
            const chatbotInput = document.getElementById('chatbotInput');
            const chatbotSend = document.getElementById('chatbotSend');
            const chatbotMessages = document.getElementById('chatbotMessages');

            if (!chatbotToggle) return;

            // Make chatbot functions available globally
            window.sendChatbotMessage = sendMessage;

            chatbotToggle.addEventListener('click', function () {
                chatbotWindow.classList.toggle('active');
            });

            chatbotClose.addEventListener('click', function () {
                chatbotWindow.classList.remove('active');
            });

            chatbotSend.addEventListener('click', sendMessage);

            chatbotInput.addEventListener('keypress', function (e) {
                if (e.key === 'Enter') {
                    sendMessage();
                }
            });

            // Quick reply handlers
            document.addEventListener('click', function (e) {
                if (e.target.classList.contains('quick-reply')) {
                    const message = e.target.getAttribute('data-message');
                    if (chatbotInput) {
                        chatbotInput.value = message;
                    }
                    sendMessage();
                }
            });

            function sendMessage() {
                if (!chatbotInput || !chatbotMessages) return;

                const message = chatbotInput.value.trim();
                if (!message) return;

                // Add user message
                const userMsg = document.createElement('div');
                userMsg.className = 'message user-message';
                userMsg.textContent = message;
                chatbotMessages.appendChild(userMsg);

                chatbotInput.value = '';

                // Scroll to bottom
                chatbotMessages.scrollTop = chatbotMessages.scrollHeight;

                // Simulate bot response
                setTimeout(function () {
                    const botMsg = document.createElement('div');
                    botMsg.className = 'message bot-message';

                    let response = getBotResponse(message);
                    botMsg.textContent = response;

                    // Add quick replies for certain responses
                    if (message.toLowerCase().includes('flight') || message.toLowerCase().includes('book')) {
                        const quickReplies = document.createElement('div');
                        quickReplies.className = 'quick-replies';
                        quickReplies.innerHTML = `
                        <div class="quick-reply" data-message="Find cheapest flights">Find cheapest flights</div>
                        <div class="quick-reply" data-message="Check flight status">Flight status</div>
                    `;
                        botMsg.appendChild(quickReplies);
                    }

                    chatbotMessages.appendChild(botMsg);
                    chatbotMessages.scrollTop = chatbotMessages.scrollHeight;
                }, 1000);
            }

            function getBotResponse(message) {
                const msg = message.toLowerCase();

                if (msg.includes('cheap') || msg.includes('price')) {
                    return 'Our cheapest flights start from ₹3,200! Use the search form on our homepage to find the best deals for your route.';
                } else if (msg.includes('status')) {
                    return 'You can check your flight status in the Services section. Just enter your flight number and date!';
                } else if (msg.includes('baggage') || msg.includes('luggage')) {
                    return 'Economy passengers can bring 1 carry-on (7kg) and 1 checked bag (23kg). Visit our Baggage Information page for details.';
                } else if (msg.includes('book') || msg.includes('flight')) {
                    return 'You can book flights using the search form on our homepage. Select your cities, date, and number of passengers!';
                } else if (msg.includes('cancel') || msg.includes('refund')) {
                    return 'Refund policies vary by ticket type. Check our Refund Policy page for detailed information.';
                } else {
                    return 'I can help you with flight bookings, status checks, baggage information, and more. What would you like to know?';
                }
            }
        }
    </script>
</body>

</html>
